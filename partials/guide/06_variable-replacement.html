<h1><code ng:non-bindable=""></code>
<span class="hint"></span>
</h1>
<div><h1 id="variablereplacement">Variable replacement</h2>

<p>This guide will show you how to handle variable replacements within translations.
If you haven't read the introduction guides about
<a href="#/guide/03_using-translate-service">$translate service</a>,
<a href="#/guide/04_using-translate-filter">translate filter</a> and
<a href="guide/05_using-translate-directive">translate directive</a>, you should do so now!</p>

<p>Using <code>$translate</code> service, <code>translate</code> filter and <code>translate</code> directive is pretty
neat! But what if your translations need variable values? Say you want to display a
notification message with a text like '<em>You've received n mails</em>', where <em>n</em> is
a placeholder for a variable value which could be any number?</p>

<p>Well, <code>angular-translate</code> got you covered. Bringing variable values to translations
using angular-translate's default interpolation services is pretty straight
forward. Yeap you read it right. It depends on the used interpolation service,
how variable values are managed within translations.</p>

<h3 id="usingvariablevalueswithintranslations">Using variable values within translations</h4>

<p>When using angular-translate's default interpolation service, you can simply rely
on Angular's interpolation service syntax. So, to define a variable value within
a translation, all you have to do is to use Angular's interpolate directive.</p>

<pre><code>{
  "TRANSLATION_ID": "{{username}} is logged in."
}
</code></pre>

<p>Whereas <code>username</code> is the identifier which you can pass a variable value through.
So how is it possible to get these variable values passed through the components
angular-translate provides?</p>

<h3 id="variablereplacementindtranslateservice">Variable replacement in $translate service</h4>

<p>You can pass variable values through <code>$translate</code> service by using its second
argument. <code>$translate</code> service expects a JavaScript object hash as second argument
which is used to interpolate translations against. So if we have a translation id
like described above, passing a value for <code>username</code> would work as following:</p>

<pre class="prettyprint linenums">
$translate('TRANSLATION_ID', { username: 'PascalPrecht' });
</pre>

<p>If there's a translation id containing more variable values, simply extend the
passed object hash with corresponding key-value pairs.</p>

<pre class="prettyprint linenums">
$translate('TRANSLATION_ID', {
  username: 'PascalPrecht',
  lastLogin: '2013-07-21 6:50PM'
});
</pre>

<h3 id="variablereplacementintranslatefilter">Variable replacement in translate filter</h4>

<p>Since <code>translate</code> filter uses <code>$translate</code> service internally, we just need a way
to pass dynamic values through the filter to make it available as object hash for
the service. To achieve this, there is a specific syntax required, because filters in Angular are currently not able to have named parameters. So there are to ways to pass values through <code>translate</code> filter.</p>

<p>The first way is to pass an object literal as string. Afterwards it gets
interpolated by <code>$translate</code> service.</p>

<pre class="prettyprint linenums">
{{ 'TRANSLATION_ID' | translate:'{ username: "PascalPrecht" }' }}
</pre>

<p>Not that hard right? But what if <code>username</code> should not have a fix value and also
has to be interpolated before getting passed? The only way to get this done is to
pass a scope object as Angular expression through the filter. Which also means,
you have to bind your variable values for the translations in the controller whichexposes the values on the scope.</p>

<pre class="prettyprint linenums">
angular.module('myApp').controller('Ctrl', ['$scope', function ($scope) {

  $scope.translationData = {
    username: 'PascalPrecht'
  };
}]);
</pre>

<p>And then pass it as expression through the filter:</p>

<pre class="prettyprint linenums">
{{ 'TRANSLATION_ID' | translate:translationData }}
</pre>

<h3 id="variablereplacementintranslatedirective">Variable replacement in translate directive</h4>

<p>Of course, you can make the same possible with <code>translate</code> directive. <code>translate</code>
directive expects an optional <code>translate-values</code> attribute you can use to pass
some values through it. All you have to do is to combine the directive with the
<code>translate-values</code> attribute.</p>

<p>You can pass either an object literal as string, or, if the value is dynamic,
an interpolation directive. Both get internally evaluated and parsed by <code>translate</code>
filter, so what comes out is a plain old JavaScript object which gets passed to
<code>$translate</code> service.</p>

<pre class="prettyprint linenums">
&lt;ANY translate="TRANSLATION_ID"
     translate-values='{ username: "PascalPrect"}'&gt;&lt;/ANY&gt;
</pre>

<p>or</p>

<pre class="prettyprint linenums">
&lt;ANY translate="TRANSLATION_ID"
     translate-values="{{translationData}}"&gt;&lt;/ANY&gt;
</pre>

<p>Awesome! We can now replace variable values within our translations! Let's update
our example app. We extend the translation table like this:</p>

<pre class="prettyprint linenums">
var translations = {
  HEADLINE: 'What an awesome module!',
  PARAGRAPH: 'Srsly!',
  PASSED_AS_TEXT: 'Hey there! I\'m passed as text value!',
  PASSED_AS_ATTRIBUTE: 'I\'m passed as attribute value, cool ha?',
  PASSED_AS_INTERPOLATION: 'Beginners! I\'m interpolated!',
  VARIABLE_REPLACEMENT: 'Hi, {{name}}'
};
</pre>

<p>Next, we  pass a name through a <code>translate</code> directive:</p>

<pre class="prettyprint linenums">
&lt;p translate="VARIABLE_REPLACEMENT" translate-values="{ name: 'PascalPrecht' }"&gt;&lt;/p&gt;
</pre>

<p>Our working code now looks like this:</p>

<h3>Source</h3>
<div source-edit="myApp" source-edit-deps="angular.js script.js" source-edit-html="index.html-11" source-edit-css="" source-edit-js="script.js-10" source-edit-unit="" source-edit-scenario=""></div>
<div class="tabbable"><div class="tab-pane" title="index.html">
<pre class="prettyprint linenums" ng-set-text="index.html-11" ng-html-wrap-loaded="myApp angular.js script.js"></pre>
<script type="text/ng-template" id="index.html-11">
    
    <div ng-controller="Ctrl">
      <h3>{{ 'HEADLINE' | translate }}</h3>
      <p>{{ 'PARAGRAPH' | translate }}</p>

      <p translate>PASSED_AS_TEXT</p>
      <p translate="PASSED_AS_ATTRIBUTE"></p>
      <p translate>{{ 'PASSED_AS_INTERPOLATION' }}</p>
      <p translate="{{ 'PASSED_AS_INTERPOLATION' }}"></p>
      <p translate="VARIABLE_REPLACEMENT" translate-values="{ name: 'PascalPrecht'}"></p>
    </div>
  </script>
</div>
<div class="tab-pane" title="script.js">
<pre class="prettyprint linenums" ng-set-text="script.js-10"></pre>
<script type="text/ng-template" id="script.js-10">
      var translations = {
        HEADLINE: 'What an awesome module!',
        PARAGRAPH: 'Srsly!',
        PASSED_AS_TEXT: 'Hey there! I\'m passed as text value!',
        PASSED_AS_ATTRIBUTE: 'I\'m passed as attribute value, cool ha?',
        PASSED_AS_INTERPOLATION: 'Beginners! I\'m interpolated!',
        VARIABLE_REPLACEMENT: 'Hi, {{name}}'
      };

      var app = angular.module('myApp', ['pascalprecht.translate']);

      app.config(['$translateProvider', function ($translateProvider) {
        // add translation table
        $translateProvider.translations(translations);
      }]);

      app.controller('Ctrl', ['$scope', function ($scope) {

      }]);
    </script>
</div>
</div><h3>Demo</h3>
<div class="well doc-example-live animator-container" ng-embed-app="myApp" ng-set-html="index.html-11" ng-eval-javascript="script.js-10"></div>

<p><br></p>

<hr>

<p><center>Made with unicorn &hearts; love by <a href="http://github.com/PascalPrecht">PascalPrecht</a></center></p></div>
